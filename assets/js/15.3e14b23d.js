(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{289:function(a,s,t){"use strict";t.r(s);var e=t(14),v=Object(e.a)({},(function(){var a=this,s=a._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[s("h2",{attrs:{id:"变量和hooks说明"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#变量和hooks说明"}},[a._v("#")]),a._v(" 变量和hooks说明")]),a._v(" "),s("h3",{attrs:{id:"变量"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#变量"}},[a._v("#")]),a._v(" 变量")]),a._v(" "),s("ul",[s("li",[a._v("global: 全局变量, 仅在 data 目录下的 "),s("code",[a._v("global_vars.yaml")]),a._v(" 文件中以键值对形式进行定义")]),a._v(" "),s("li",[a._v("env: 环境变量, 在测试用例依赖的环境文件中以键值对的形式进行定义")]),a._v(" "),s("li",[a._v("cache: 缓存变量, 在同一python包下运行测试用例时，在系统内存中定义")])]),a._v(" "),s("h3",{attrs:{id:"hooks"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#hooks"}},[a._v("#")]),a._v(" hooks")]),a._v(" "),s("p",[a._v("仅在 data 目录下的 hooks.py 文件中定义，根据定义结构在用例数据文件中使用")]),a._v(" "),s("h2",{attrs:{id:"变量表达式"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#变量表达式"}},[a._v("#")]),a._v(" 变量表达式")]),a._v(" "),s("p",[a._v("变量和 hooks 开头请遵循规则: a-zA-Z_")]),a._v(" "),s("ul",[s("li",[s("p",[a._v("普通变量：测试用例全局可用")]),a._v(" "),s("div",{staticClass:"language-text line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("${var} 或 $var\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])])]),a._v(" "),s("li",[s("p",[a._v("关联测试用例变量：只在测试用例中含有关联测试用例提取并需要引用关联测试用例设置的变量时，使用此方式")]),a._v(" "),s("div",{staticClass:"language-text line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("^{var} 或 ^var\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])])]),a._v(" "),s("li",[s("p",[a._v("hooks：全局可用，在测试用例前后置 hooks 参数下只执行代码, 在其他地方使用时, 将执行代码并替换为返回值")]),a._v(" "),s("div",{staticClass:"language-text line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("${func()}\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])])])]),a._v(" "),s("h2",{attrs:{id:"用例中的变量替换"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#用例中的变量替换"}},[a._v("#")]),a._v(" 用例中的变量替换")]),a._v(" "),s("h3",{attrs:{id:"普通变量"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#普通变量"}},[a._v("#")]),a._v(" 普通变量")]),a._v(" "),s("p",[a._v("请求数据解析时，寻找变量顺序为： cache > env > global，找到变量自动替换数据，未找到抛出异常")]),a._v(" "),s("h3",{attrs:{id:"关联测试用例变量"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#关联测试用例变量"}},[a._v("#")]),a._v(" 关联测试用例变量")]),a._v(" "),s("p",[a._v("关联测试用例执行后，在 cache 中设置变量，找到变量自动替换数据，未找到抛出异常")]),a._v(" "),s("div",{staticClass:"custom-block warning"},[s("p",{staticClass:"custom-block-title"},[a._v("WARNING")]),a._v(" "),s("p",[a._v("默认仅使用 cache 存储关联变量，并且只对当前关联用例可用，用例执行后将自动清除")])]),a._v(" "),s("h2",{attrs:{id:"变量存储说明"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#变量存储说明"}},[a._v("#")]),a._v(" 变量存储说明")]),a._v(" "),s("ul",[s("li",[a._v("env：在当前测试用例数据所调用的测试环境文件中进行持久化写入，键值不会重复，新值覆盖旧值")]),a._v(" "),s("li",[a._v("global: 在全局变量文件中进行持久化写入，键值不会重复，新值覆盖旧值")]),a._v(" "),s("li",[a._v("cache：写入当前指定运行测试用例所在目录下的所有用例运行过程的内存中，不会持久化，用例运行结束后自动清除")])]),a._v(" "),s("div",{staticClass:"custom-block warning"},[s("p",{staticClass:"custom-block-title"},[a._v("提示")]),a._v(" "),s("p",[a._v("变量持久化写入会冲刷掉手写注释内容")])])])}),[],!1,null,null,null);s.default=v.exports}}]);