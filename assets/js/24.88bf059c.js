(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{297:function(t,e,r){"use strict";r.r(e);var a=r(14),_=Object(a.a)({},(function(){var t=this,e=t._self._c;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"🚀-如何运行测试"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#🚀-如何运行测试"}},[t._v("#")]),t._v(" 🚀 如何运行测试")]),t._v(" "),e("h2",{attrs:{id:"pycharm-推荐"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#pycharm-推荐"}},[t._v("#")]),t._v(" Pycharm (推荐)")]),t._v(" "),e("p",[t._v("在 run.py 文件内部，鼠标右键执行即可")]),t._v(" "),e("h2",{attrs:{id:"命令行"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#命令行"}},[t._v("#")]),t._v(" 命令行")]),t._v(" "),e("p",[t._v("请确保当前使用的 python 环境和当前框架一致，如果遇到路径问题，\n请参阅："),e("a",{attrs:{href:"https://www.cnblogs.com/duanweishi/p/15987693.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("通用解决方法"),e("OutboundLink")],1)]),t._v(" "),e("h2",{attrs:{id:"运行参数"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#运行参数"}},[t._v("#")]),t._v(" 运行参数")]),t._v(" "),e("p",[t._v("在源码中，对现有已添加的运行参数，是完全添加 RST\n文档说明的："),e("a",{attrs:{href:"https://github.com/wu-clan/httpfpt/blob/9910e6b88a8555897987117d5bbe0a3e801098f7/fastpt/run.py#L27",target:"_blank",rel:"noopener noreferrer"}},[t._v("源码跳转"),e("OutboundLink")],1)]),t._v(" "),e("ul",[e("li",[e("code",[t._v("log_level")]),t._v(': 控制台打印输出级别, 默认"-v"')]),t._v(" "),e("li",[e("code",[t._v("case_path")]),t._v(": 可选参数, 指定测试用例, 默认为空，如果指定，则执行指定用例，否则执行全部，请遵循 pytest 用例指定规则")]),t._v(" "),e("li",[e("code",[t._v("html_report")]),t._v(": 是否生成 HTML 测试报告, 默认开启")]),t._v(" "),e("li",[e("code",[t._v("allure")]),t._v(": allure 测试报告, 默认关闭")]),t._v(" "),e("li",[e("code",[t._v("allure_clear")]),t._v(": 清空 allure 报告历史记录, 默认开启")]),t._v(" "),e("li",[e("code",[t._v("allure_serve")]),t._v(": 是否测试执行完成后自动打开 allure 测试报告服务, 如果已启用 allure 测试报告")]),t._v(" "),e("li",[e("code",[t._v("reruns")]),t._v(": 每个用例的运行次数, 兼容性差, 不建议使用")]),t._v(" "),e("li",[e("code",[t._v("maxfail")]),t._v(": 大于0的正整数, 指定失败用例个数,到达数量上限后终止运行, 默认为0, 为0时表示此参数默认关闭")]),t._v(" "),e("li",[e("code",[t._v("x")]),t._v(": 如果发生失败用例, 是否终止运行, 默认关闭")]),t._v(" "),e("li",[e("code",[t._v("n")]),t._v(': 分布式运行, 使用"auto"表示全核, 也可指定cpu内核数量, 大于0的正整数, 默认"auto"')]),t._v(" "),e("li",[e("code",[t._v("dist")]),t._v(': 分布式运行方式, 默认"loadscope",\n详情: '),e("a",{attrs:{href:"https://pytest-xdist.readthedocs.io/en/latest/distribution.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("distribution"),e("OutboundLink")],1)]),t._v(" "),e("li",[e("code",[t._v("strict_markers")]),t._v(": markers 严格模式, 对于使用了自定义 marker 的用例, 如果 marker 未在 pytest.ini 注册, 用例将报错")]),t._v(" "),e("li",[e("code",[t._v("capture")]),t._v(': 避免在使用输出模式为"v"和"s"时,html报告中的表格log为空的情况, 默认开启')]),t._v(" "),e("li",[e("code",[t._v("disable_warnings")]),t._v(": 是否关闭控制台警告信息, 默认开启")])]),t._v(" "),e("h2",{attrs:{id:"运行方式选择"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#运行方式选择"}},[t._v("#")]),t._v(" 运行方式选择")]),t._v(" "),e("p",[t._v("IDE 和命令行都支持参数自定义和扩展，在 IDE 中，在 run(...) 方法括号内以字符串形式填入即可，\n命令行请遵循命令行参数规则")]),t._v(" "),e("p",[t._v("在 IDE 运行的好处是，它会在控制台同时打印你当前所有运行参数和转化后的 pytest 命令，\n你可以直接将命令用于命令行执行")]),t._v(" "),e("p",[t._v("在命令行运行的好处是，如果测试用例发生意外或报错，它会得到一个完美的错误信息统计，\n基于 "),e("a",{attrs:{href:"https://github.com/samuelcolvin/pytest-pretty",target:"_blank",rel:"noopener noreferrer"}},[t._v("pytest-pretty"),e("OutboundLink")],1),t._v(" 构建")])])}),[],!1,null,null,null);e.default=_.exports}}]);